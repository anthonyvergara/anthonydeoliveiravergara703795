<div class="container">
  <div class="header">
    <div>
      <h1 class="title">Artistas</h1>
      <p class="subtitle">Descubra e explore seus artistas favoritos</p>
    </div>
    <button class="btn-create" (click)="openArtistModal()">
      <svg class="btn-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
      </svg>
      Novo Artista
    </button>
  </div>

  <div class="search-section">
    <div class="search-wrapper">
      <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
      </svg>
      <input
        type="text"
        placeholder="Buscar artista por nome..."
        class="search-input"
        [ngModel]="searchTerm()"
        (ngModelChange)="searchTerm.set($event); onSearchChange()">
      <span *ngIf="searchTerm()" class="results-count">
        {{ totalArtists() }} {{ totalArtists() === 1 ? 'resultado' : 'resultados' }}
      </span>
    </div>
  </div>

  <div *ngIf="loading$ | async" class="loading-state">
    <div class="spinner"></div>
    <p>Carregando artistas...</p>
  </div>

  <div *ngIf="!(loading$ | async)" class="artists-grid">
    <div
      *ngFor="let artist of (artists$ | async)"
      class="artist-card"
      (click)="viewArtistDetail(artist.id)">
      <div class="artist-image-wrapper">
        <img [src]="artist.imageUrl" [alt]="artist.name" class="artist-image">
        <div class="artist-overlay">
          <button class="play-button">
            <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 24 24">
              <path d="M8 5v14l11-7z"/>
            </svg>
          </button>
        </div>
      </div>
      <div class="artist-info">
        <div class="artist-header">
          <h3 class="artist-name">{{ artist.name }}</h3>
          <svg class="verified-badge" fill="currentColor" viewBox="0 0 24 24">
            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="(artists$ | async)?.length === 0 && !(loading$ | async)" class="empty-state">
    <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
    </svg>
    <h3 class="empty-title">Nenhum artista encontrado</h3>
    <p class="empty-description">Tente ajustar sua busca ou filtros</p>
  </div>

  <div *ngIf="totalPages() > 1 && !(loading$ | async)" class="pagination">
    <button
      (click)="previousPage()"
      [disabled]="currentPage() === 1"
      class="pagination-button"
      [class.disabled]="currentPage() === 1">
      <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
      </svg>
      Anterior
    </button>

    <div class="pagination-numbers">
      <button
        *ngFor="let page of pageNumbers()"
        (click)="goToPage(page)"
        [disabled]="page === '...'"
        class="pagination-number"
        [class.active]="page === currentPage()"
        [class.ellipsis]="page === '...'">
        {{ page }}
      </button>
    </div>

    <button
      (click)="nextPage()"
      [disabled]="currentPage() === totalPages()"
      class="pagination-button"
      [class.disabled]="currentPage() === totalPages()">
      Pr√≥xima
      <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
      </svg>
    </button>
  </div>

  <div *ngIf="!(loading$ | async)" class="info-footer">
    <p>
      Mostrando {{ getStartIndex() }} -
      {{ getEndIndex() }}
      de {{ totalArtists() }} artistas
    </p>
  </div>

  <app-artist-form
    *ngIf="showArtistModal()"
    (closeModal)="closeArtistModal()"
    (submitForm)="onCreateArtist($event)">
  </app-artist-form>
</div>

